(this["webpackJsonpinovelli-led-strip-toolbox"]=this["webpackJsonpinovelli-led-strip-toolbox"]||[]).push([[0],{135:function(e,t,a){},146:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(12),i=a.n(r),l=(a(135),a(10)),s=a(11),c=a(15),m=a(14),h=a(115),u=a(8),p=a.n(u),d=a(22),f=a(46),g=a(73),E=a(205),v=a(4),C=a(147),b=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e={};return this.props.color&&this.props.color<361&&(e={backgroundColor:"hsl(".concat(this.props.color,",100%,50%)"),boxShadow:"0px 0px ".concat(this.props.brightness+1,"px ").concat((this.props.brightness+1)/100*40,"px hsl(").concat(this.props.color,",100%,50%)")}),o.a.createElement("div",{className:this.props.classes.root},o.a.createElement(C.a,{className:this.props.classes.whiteLed},o.a.createElement("div",null)),o.a.createElement(C.a,{className:this.props.classes.colorLED},o.a.createElement("div",null),o.a.createElement("div",{style:e,className:"rgb-led-light"})),o.a.createElement(C.a,{className:this.props.classes.whiteLed2},o.a.createElement("div",null)))}}]),a}(o.a.Component),S=Object(v.a)((function(e){return{root:{display:"flex",justifyContent:"space-around",padding:e.spacing(1),"&>*":{backgroundColor:"white",flex:"0 1 ".concat(12,"px"),maxWidth:"".concat(12,"px"),"&:not(:first-child):not(:last-child)":{flex:"1 1 33%",maxWidth:"".concat(24,"px")}}},whiteLed:{padding:e.spacing(.5),"&>*":{backgroundColor:"rgba(255,255,0,0.3)",width:"100%",height:"100%"}},whiteLed2:{padding:e.spacing(.5),"&>*":{backgroundColor:"rgba(255,150,0,0.4)",width:"100%",height:"100%"}},colorLED:{padding:e.spacing(.5),position:"relative","&>:first-child":{top:e.spacing(.5),bottom:e.spacing(.5),right:e.spacing(.5),left:e.spacing(.5),borderRadius:"".concat(12,"px"),position:"absolute",zIndex:"3",backgroundColor:"rgba(255,255,255,0.2)",background:"radial-gradient(farthest-side at 70% 20%,rgba(255,255,255,0.5) 0%, rgba(255,255,255,0.1) 30%)"},"&>:last-child":{backgroundColor:"#cccccc",top:e.spacing(.5),bottom:e.spacing(.5),right:e.spacing(.5),left:e.spacing(.5),borderRadius:"".concat(12,"px"),position:"absolute"}},ledOn:{boxShadow:"0px 0px 40px 6px hsl(360,100%,50%)"}}}))(b),O=a(21),A=a(114);O.d.setup(Object(A.a)());var y=24,w=[0,0,0,0,"red","orange",0,0,0,0,0,0,"blue"],k=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={sheet:{classes:{}}},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e){if(JSON.stringify(this.props.program)!==JSON.stringify(e.program)){this.state.sheet.detach&&this.state.sheet.detach();var t=this.props.program.effects.map((function(e){return{opacity:(e.brightness+1)/100,backgroundColor:w[e.color]}})).reduce((function(e,t,a,n){return e["".concat(a/(n.length-1)*100,"%")]=t,e}),{}),a=O.d.createStyleSheet({"@keyframes inovelli-program":t,strip:{"& .rgb-led-light":{animation:"$inovelli-program 3s linear",animationIterationCount:255===this.props.program.iterations?"infinite":this.props.program.iterations||10}}});a.attach(),this.setState({sheet:a})}}},{key:"render",value:function(){return o.a.createElement(C.a,{className:this.props.classes.root+" "+this.state.sheet.classes.strip},o.a.createElement(S,{size:y}),o.a.createElement(S,{size:y}),o.a.createElement(S,{size:y}),o.a.createElement(S,{size:y}),o.a.createElement(S,{size:y}),o.a.createElement(S,{size:y}),o.a.createElement(S,{size:y}),o.a.createElement(S,{size:y}))}}]),a}(o.a.Component),H=(Object(v.a)((function(e){return{root:{maxWidth:"800px",height:"".concat(y+e.spacing(2),"px"),width:"100%",display:"flex",align:"center",justifyContent:"space-between",backgroundColor:"white","&>*":{flex:"1 1 auto",":not(:last-child)":{marginRight:e.spacing(2)}}}}}))(k),a(186)),x=a(187),j=a(53),D=a(208),T=a(190),M=a(97),L=a.n(M),I=a(98),N=a.n(I),V=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return o.a.createElement(H.a,{position:"static"},o.a.createElement(x.a,null,o.a.createElement(j.a,{variant:"h6",style:{flexGrow:"1"}},"Inovelli LED Strip Toolbox"),o.a.createElement("div",{style:{flexShrink:"0",flexGrow:"0"}},o.a.createElement(D.a,{title:"Options"},o.a.createElement(T.a,{color:"inherit",onClick:this.props.onOpenOptions},o.a.createElement(L.a,null))),o.a.createElement(D.a,{title:"About"},o.a.createElement(T.a,{color:"inherit",onClick:this.props.onOpenAbout},o.a.createElement(N.a,null))))))}}]),a}(o.a.Component),U=a(209),W=a(191),B=a(192),P=a(148),_=a(154),F=a(153),R=a(194),J=a(195),z=a(196),Z=a(197),K=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).handleThemeChange=function(t){e.props.setTheme(t.target.value)},e.handleURLChange=function(t){e.props.setHomeAssistantURL(t.target.value)},e.handleFormatChange=function(t){e.props.setFormat(t.target.value)},e.handleTokenChange=function(t){e.props.setHomeAssistantToken(t.target.value)},e.handleNodeChange=function(t){e.props.setHomeAssistantNode(t.target.value)},e.handleHomeAssistantServiceChange=function(t){e.props.setHomeAssistantService(t.target.value)},e}return Object(s.a)(a,[{key:"render",value:function(){return o.a.createElement(U.a,{open:this.props.open,fullWidth:!0,onClose:this.props.onClose},o.a.createElement(W.a,null,"Options"),o.a.createElement(B.a,null,o.a.createElement(P.a,{fullWidth:!0,margin:"normal"},o.a.createElement(_.a,null,"Theme"),o.a.createElement(F.a,{value:this.props.theme,onChange:this.handleThemeChange},o.a.createElement(R.a,{value:"light"},"Light"),o.a.createElement(R.a,{value:"dark"},"Dark"))),o.a.createElement(P.a,{fullWidth:!0,margin:"normal"},o.a.createElement(_.a,null,"Value Format"),o.a.createElement(F.a,{value:this.props.format,onChange:this.handleFormatChange},o.a.createElement(R.a,{value:"10"},"Decimal"),o.a.createElement(R.a,{value:"16"},"Hex"),o.a.createElement(R.a,{value:"2"},"Binary"))),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(j.a,null,"Home Assistant Integration"),o.a.createElement(j.a,{variant:"caption",color:"textSecondary"},"Integrate this application with your Home Assistant instance by filling in the values below. Once configured you will be able to send programs (all 4 parameters) from this application directly to your device."),o.a.createElement(J.a,{fullWidth:!0,margin:"normal",label:"Home Assistant URL",value:this.props.homeAssistantURL,onChange:this.handleURLChange,autoFocus:!0}),o.a.createElement(J.a,{fullWidth:!0,margin:"normal",label:"Home Assistant Long Life Token",value:this.props.homeAssistantToken,onChange:this.handleTokenChange}),o.a.createElement(P.a,{fullWidth:!0,margin:"normal"},o.a.createElement(_.a,null,"Z-Wave Integration"),o.a.createElement(F.a,{value:this.props.homeAssistantService,onChange:this.handleHomeAssistantServiceChange},o.a.createElement(R.a,{value:"ozw.set_config_parameter"},"OpenZWave (ozw.set_config_parameter)"),o.a.createElement(R.a,{value:"zwave.set_config_parameter"},"Legacy Z-Wave (zwave.set_config_parameter)"))),o.a.createElement(J.a,{fullWidth:!0,margin:"normal",label:"Z-Wave Node ID (Number)",value:this.props.homeAssistantNode,onChange:this.handleNodeChange})),o.a.createElement(z.a,null,o.a.createElement(Z.a,{onClick:this.props.onClose},"Close")))}}]),a}(o.a.PureComponent);K.defaultProps={};var Y=K,G=a(193),$=a(151),q=a(204),Q=a(202),X=a(201),ee=a(203),te=a(116),ae=a(198),ne=a(211),oe=a(152),re=a(108),ie=a.n(re),le=a(68),se=a.n(le),ce=a(69),me=a.n(ce),he=a(99),ue=a.n(he),pe=a(100),de=a.n(pe),fe=a(67),ge=a.n(fe),Ee=a(66),ve=a.n(Ee),Ce=function(e){for(var t=[0,0,0,0],a=0;a<t.length;a++){var n=255&e;t[a]=n,e=(e-n)/256}return t},be=function(e){var t=[0,0];return t[0]=6&e,t[1]=(e-(6&e))/8,t},Se=function(e){for(var t=0,a=e.length-1;a>=0;a--)t=256*t+e[a];return t},Oe=["100 ms","Seconds","Minutes","Hours"],Ae=["Off","Warm White (2700K)","White (4500K)","Cool White (6500K)","Red","Orange","Yellow","Yellow Green","Green","Spring Green","Cyan","Azure","Blue","Violet","Magenta","Random Color"],ye=["Fade","Fade Blend","Flash","Chase","Chase Blend"];window.shortToByteArray=be,console.log(be(24)),console.log([0,1]),console.log(be(16)),console.log([0,2]),console.log(be(8)),console.log([0,3]);var we=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).setValue=function(e){return function(t,a){n.setState(Object(f.a)({},e,"color"!==e&&"effect"!==e?a:t.target.value))}},n.handleSave=function(){n.props.onSave({color:n.state.color,effect:n.state.effect,brightness:n.state.brightness,duration:n.state.duration})},n.state={color:0,effect:0,brightness:99,duration:1},n}return Object(s.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.open&&this.props.open!==e.open&&this.setState({color:this.props.effect.color,effect:this.props.effect.effect,brightness:this.props.effect.brightness,duration:this.props.effect.duration})}},{key:"render",value:function(){var e=this;return o.a.createElement(U.a,{open:this.props.open,fullWidth:!0,scroll:"body"},o.a.createElement(W.a,null,"Effect Editor"),o.a.createElement(B.a,null,o.a.createElement(P.a,{fullWidth:!0,margin:"normal"},o.a.createElement(_.a,null,"Color"),o.a.createElement(F.a,{value:this.state.color,onChange:this.setValue("color")},Ae.map((function(e,t){return o.a.createElement(R.a,{value:t,key:e},e)})))),o.a.createElement(P.a,{fullWidth:!0,margin:"normal"},o.a.createElement(_.a,null,"Effect"),o.a.createElement(F.a,{value:this.state.effect,onChange:this.setValue("effect")},ye.map((function(t,a){return o.a.createElement(R.a,{value:a,key:t,disabled:e.state.color>0&&e.state.color<4&&a>=3},t)})))),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(j.a,{gutterBottom:!0},"Brightness Level"),o.a.createElement(ae.a,{container:!0,spacing:2},o.a.createElement(ae.a,{item:!0},o.a.createElement(ue.a,null)),o.a.createElement(ae.a,{item:!0,xs:!0},o.a.createElement(ne.a,{value:this.state.brightness,valueLabelDisplay:"auto",min:0,max:99,onChange:this.setValue("brightness")})),o.a.createElement(ae.a,{item:!0},o.a.createElement(de.a,null))),o.a.createElement("br",null),o.a.createElement(j.a,{gutterBottom:!0},"Duration"),o.a.createElement(ae.a,{container:!0,spacing:2},o.a.createElement(ae.a,{item:!0},o.a.createElement(ve.a,null)),o.a.createElement(ae.a,{item:!0,xs:!0},o.a.createElement(ne.a,{value:this.state.duration,valueLabelDisplay:"auto",valueLabelFormat:this.durationFormater,min:1,max:60,onChange:this.setValue("duration")})),o.a.createElement(ae.a,{item:!0},o.a.createElement(ge.a,null))),o.a.createElement("br",null)),o.a.createElement(z.a,null,o.a.createElement(Z.a,{onClick:this.handleSave},"Save"),o.a.createElement(Z.a,{onClick:this.props.onClose},"Cancel")))}}]),a}(o.a.PureComponent),ke=Object(v.a)((function(e){return{contentRoot:{display:"flex",flexWrap:"wrap","&>*":{flex:"1 1 49%",padding:e.spacing(1),minWidth:"300px"}}}}))(we),He=a(105),xe=a.n(He),je=a(106),De=a.n(je),Te=a(109),Me=a.n(Te),Le=a(199),Ie=a(200),Ne=a(87),Ve=a(210),Ue=a(101);function We(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};navigator.clipboard?navigator.clipboard.writeText(e).then((function(){t(!0)}),(function(e){t(!1,e)})):Ue.a(e).then((function(){t(!0)}),(function(e){t(!1,e)}))}var Be=a(102),Pe=a.n(Be);function _e(e){return o.a.createElement(Le.a,Object.assign({},e,{direction:"up"}))}var Fe=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleCopyNumber=function(){n.setState({anchor:null}),We(n.props["parameter".concat(n.state.parameter)].toString(Number(n.props.format||10)),n.handleOnCopy)},n.handleCopyYAML=function(){n.setState({anchor:null}),We(Pe.a.stringify({parameter:n.state.parameter,value:n.props["parameter".concat(n.state.parameter)].toString(Number(n.props.format||10))}),n.handleOnCopy)},n.handleOnCopy=function(e){n.setState({snackbarOpen:!0,copyStatusText:e?"Copied to Clipboard":"Unable to copy to clipboard. Check browser settings."})},n.copyAll=function(){We("".concat(n.props.parameter22.toString(Number(n.props.format||10)),",").concat(n.props.parameter23.toString(Number(n.props.format||10)),",").concat(n.props.parameter24.toString(Number(n.props.format||10)),",").concat(n.props.parameter30.toString(Number(n.props.format||10))),n.handleOnCopy)},n.handleSnackbarClose=function(){n.setState({snackbarOpen:!1})},n.toggleMenu=function(e){return function(t){n.setState({anchor:t.currentTarget,parameter:e})}},n.state={anchor:null,parameter:0},n}return Object(s.a)(a,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(U.a,{open:this.props.open,fullWidth:!0},o.a.createElement(W.a,null,"Parameters"),o.a.createElement(B.a,null,o.a.createElement(J.a,{style:{marginTop:"30px"},value:this.props.parameter22,readOnly:!0,label:"Parameter ".concat(22),fullWidth:!0,margin:"normal",variant:"outlined",InputProps:{endAdornment:o.a.createElement(Ie.a,{position:"end"},o.a.createElement(D.a,{title:"Copy to Clipboard"},o.a.createElement(T.a,{edge:"end",onClick:this.toggleMenu(22)},o.a.createElement(Ne.a,null,o.a.createElement("svg",{viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"}))))),o.a.createElement(te.a,{open:Boolean(this.state.anchor)&&22===this.state.parameter,anchorEl:this.state.anchor,onClose:this.toggleMenu(null)},o.a.createElement(R.a,{onClick:this.handleCopyNumber},"Copy Value"),o.a.createElement(R.a,{onClick:this.handleCopyYAML},"Copy as YAML")))}}),o.a.createElement(J.a,{style:{marginTop:"30px"},value:this.props.parameter23,readOnly:!0,label:"Parameter ".concat(23),fullWidth:!0,margin:"normal",variant:"outlined",InputProps:{endAdornment:o.a.createElement(Ie.a,{position:"end"},o.a.createElement(D.a,{title:"Copy to Clipboard"},o.a.createElement(T.a,{edge:"end",onClick:this.toggleMenu(23)},o.a.createElement(Ne.a,null,o.a.createElement("svg",{viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"}))))),o.a.createElement(te.a,{open:Boolean(this.state.anchor)&&23===this.state.parameter,anchorEl:this.state.anchor,onClose:this.toggleMenu(null)},o.a.createElement(R.a,{onClick:this.handleCopyNumber},"Copy Value"),o.a.createElement(R.a,{onClick:this.handleCopyYAML},"Copy as YAML")))}}),o.a.createElement(J.a,{style:{marginTop:"30px"},value:this.props.parameter24,readOnly:!0,label:"Parameter ".concat(24),fullWidth:!0,margin:"normal",variant:"outlined",InputProps:{endAdornment:o.a.createElement(Ie.a,{position:"end"},o.a.createElement(D.a,{title:"Copy to Clipboard"},o.a.createElement(T.a,{edge:"end",onClick:this.toggleMenu(24)},o.a.createElement(Ne.a,null,o.a.createElement("svg",{viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"}))))),o.a.createElement(te.a,{open:Boolean(this.state.anchor)&&24===this.state.parameter,anchorEl:this.state.anchor,onClose:this.toggleMenu(null)},o.a.createElement(R.a,{onClick:this.handleCopyNumber},"Copy Value"),o.a.createElement(R.a,{onClick:this.handleCopyYAML},"Copy as YAML")))}}),o.a.createElement(J.a,{style:{marginTop:"30px"},value:this.props.parameter30,readOnly:!0,label:"Parameter ".concat(30),fullWidth:!0,margin:"normal",variant:"outlined",InputProps:{endAdornment:o.a.createElement(Ie.a,{position:"end"},o.a.createElement(D.a,{title:"Copy to Clipboard"},o.a.createElement(T.a,{edge:"end",onClick:this.toggleMenu(30)},o.a.createElement(Ne.a,null,o.a.createElement("svg",{viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"}))))),o.a.createElement(te.a,{open:Boolean(this.state.anchor)&&30===this.state.parameter,anchorEl:this.state.anchor,onClose:this.toggleMenu(null)},o.a.createElement(R.a,{onClick:this.handleCopyNumber},"Copy Value"),o.a.createElement(R.a,{onClick:this.handleCopyYAML},"Copy as YAML")))}})),o.a.createElement(z.a,{style:{justifyContent:"space-between"}},o.a.createElement(Z.a,{onClick:this.copyAll},"Copy All to CSV"),o.a.createElement(Z.a,{onClick:this.props.onClose},"Close"))),o.a.createElement(Ve.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},TransitionComponent:_e,open:this.state.snackbarOpen,autoHideDuration:4e3,onClose:this.handleSnackbarClose,message:o.a.createElement("span",{id:"message-id"},this.state.copyStatusText)}))}}]),a}(o.a.Component),Re=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).onChange=function(e){n.setState({name:e.target.value})},n.handleSave=function(){n.props.onSave(n.state.name)},n.state={name:""},n}return Object(s.a)(a,[{key:"render",value:function(){return o.a.createElement(U.a,{open:this.props.open,fullWidth:!0},o.a.createElement(W.a,null,"Save As"),o.a.createElement(B.a,null,o.a.createElement(J.a,{label:"Animation Name",value:this.state.name,onChange:this.onChange,autoFocus:!0,fullWidth:!0})),o.a.createElement(z.a,null,o.a.createElement(Z.a,{onClick:this.props.onClose},"Cancel"),o.a.createElement(Z.a,{onClick:this.handleSave},"Save")))}}]),a}(o.a.Component),Je=a(75);Je.DateTime.local();var ze=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleOpen=function(e,t){return function(a){n.props.onOpen(e,t)}},n.handleMenuClick=function(e){return function(t){n.setState({selectedItem:e,anchorEl:t.currentTarget})}},n.handleMenuClose=function(){n.setState({selectedItem:null,anchorEl:null})},n.handleRemoveItem=function(){n.setState({deletConfirmationOpen:!0})},n.closeConfirmationDialog=function(){n.setState({deletConfirmationOpen:!1,selectedItem:null,anchorEl:null})},n.doDelete=function(){var e=JSON.parse(window.localStorage.getItem("animations"));e.splice(n.state.selectedItem,1),window.localStorage.setItem("animations",JSON.stringify(e)),n.setState({deletConfirmationOpen:!1,selectedItem:null,anchorEl:null})},n.state={selectedItem:null,anchorEl:null},n}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=JSON.parse(window.localStorage.getItem("animations"))||[];return o.a.createElement(o.a.Fragment,null,o.a.createElement(U.a,{open:this.props.open,unmountOnClose:!0,fullWidth:!0},o.a.createElement(W.a,null,"Open Animation"),o.a.createElement(B.a,null,o.a.createElement(G.a,null,0===t.length&&o.a.createElement($.a,null,o.a.createElement(X.a,{primary:"No Saved Custom Animations",secondary:"Create an animation and save it for future reference."})),t.length>0&&t.map((function(t,a){return o.a.createElement($.a,{button:!0,onClick:e.handleOpen(a,t)},o.a.createElement(Q.a,null,o.a.createElement(se.a,null)),o.a.createElement(X.a,{primary:t.name,secondary:t.date?"Last Updated: ".concat(Je.DateTime.fromMillis(t.date).toFormat("LLL d, yyyy")):"Last Updated: Unknown"}),o.a.createElement(ee.a,null,o.a.createElement(T.a,{onClick:e.handleMenuClick(a)},o.a.createElement(me.a,null)),o.a.createElement(te.a,{open:Boolean(e.state.anchorEl)&&a===e.state.selectedItem,anchorEl:e.state.anchorEl,onClose:e.handleMenuClose},o.a.createElement(R.a,{onClick:e.handleRemoveItem},"Delete"))))})))),o.a.createElement(z.a,null,o.a.createElement(Z.a,{onClick:this.props.onClose},"Cancel"))),o.a.createElement(U.a,{open:this.state.deletConfirmationOpen,fullWidth:!0},o.a.createElement(W.a,null,"Delete Confirmation"),o.a.createElement(B.a,null,o.a.createElement(j.a,null,"Are you sure you want to remove this animation? This action is irreversible.")),o.a.createElement(z.a,null,o.a.createElement(Z.a,{onClick:this.closeConfirmationDialog},"Cancel"),o.a.createElement(Z.a,{onClick:this.doDelete},"Delete"))))}}]),a}(o.a.Component);function Ze(){return o.a.createElement(Ne.a,null,o.a.createElement("svg",{viewBox:"0 0 24 24"},o.a.createElement("path",{fill:"currentColor",d:"M21.8,13H20V21H13V17.67L15.79,14.88L16.5,15C17.66,15 18.6,14.06 18.6,12.9C18.6,11.74 17.66,10.8 16.5,10.8A2.1,2.1 0 0,0 14.4,12.9L14.5,13.61L13,15.13V9.65C13.66,9.29 14.1,8.6 14.1,7.8A2.1,2.1 0 0,0 12,5.7A2.1,2.1 0 0,0 9.9,7.8C9.9,8.6 10.34,9.29 11,9.65V15.13L9.5,13.61L9.6,12.9A2.1,2.1 0 0,0 7.5,10.8A2.1,2.1 0 0,0 5.4,12.9A2.1,2.1 0 0,0 7.5,15L8.21,14.88L11,17.67V21H4V13H2.25C1.83,13 1.42,13 1.42,12.79C1.43,12.57 1.85,12.15 2.28,11.72L11,3C11.33,2.67 11.67,2.33 12,2.33C12.33,2.33 12.67,2.67 13,3L17,7V6H19V9L21.78,11.78C22.18,12.18 22.59,12.59 22.6,12.8C22.6,13 22.2,13 21.8,13M7.5,12A0.9,0.9 0 0,1 8.4,12.9A0.9,0.9 0 0,1 7.5,13.8A0.9,0.9 0 0,1 6.6,12.9A0.9,0.9 0 0,1 7.5,12M16.5,12C17,12 17.4,12.4 17.4,12.9C17.4,13.4 17,13.8 16.5,13.8A0.9,0.9 0 0,1 15.6,12.9A0.9,0.9 0 0,1 16.5,12M12,6.9C12.5,6.9 12.9,7.3 12.9,7.8C12.9,8.3 12.5,8.7 12,8.7C11.5,8.7 11.1,8.3 11.1,7.8C11.1,7.3 11.5,6.9 12,6.9Z"})))}function Ke(){return o.a.createElement(Ne.a,null,o.a.createElement("svg",{viewBox:"0 0 24 24"},o.a.createElement("path",{fill:"currentColor",d:"M15,9H5V5H15M12,19A3,3 0 0,1 9,16A3,3 0 0,1 12,13A3,3 0 0,1 15,16A3,3 0 0,1 12,19M17,3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V7L17,3Z"})))}function Ye(){return o.a.createElement(Ne.a,null,o.a.createElement("svg",{viewBox:"0 0 24 24"},o.a.createElement("path",{fill:"currentColor",d:"M10,19L10.14,18.86C8.9,18.5 8,17.36 8,16A3,3 0 0,1 11,13C12.36,13 13.5,13.9 13.86,15.14L20,9V7L16,3H4C2.89,3 2,3.9 2,5V19A2,2 0 0,0 4,21H10V19M4,5H14V9H4V5M20.04,12.13C19.9,12.13 19.76,12.19 19.65,12.3L18.65,13.3L20.7,15.35L21.7,14.35C21.92,14.14 21.92,13.79 21.7,13.58L20.42,12.3C20.31,12.19 20.18,12.13 20.04,12.13M18.07,13.88L12,19.94V22H14.06L20.12,15.93L18.07,13.88Z"})))}var Ge=a(104),$e=a.n(Ge),qe=a(107),Qe=a.n(qe),Xe=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState({value:e.target.value})},n.handleImport=function(){n.props.onImport(n.state.value)},n.state={value:""},n}return Object(s.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.open&&this.props.open!==e.open&&this.setState({value:""})}},{key:"render",value:function(){return o.a.createElement(U.a,{open:this.props.open,fullWidth:!0,size:"md"},o.a.createElement(W.a,null,"Import Program"),o.a.createElement(B.a,null,o.a.createElement(J.a,{value:this.state.value,autoFocus:!0,onChange:this.handleChange,label:"Program Values (CSV)",helperText:"Enter the parameter values in the following pattern: {22},{23},{24},{30}",fullWidth:!0})),o.a.createElement(z.a,null,o.a.createElement(Z.a,{onClick:this.props.onClose},"Cancel"),o.a.createElement(Z.a,{onClick:this.handleImport,disabled:!this.state.value.match(/^[0-9]{1,10},[0-9]{1,10},[0-9]{1,10},[0-9]{1,10}$/g)},"Import")))}}]),a}(o.a.Component),et=a(103),tt=a.n(et);function at(e){return o.a.createElement(Le.a,Object.assign({},e,{direction:"up"}))}var nt=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleCopy=function(){We("https://nathanfiscus.github.io/inovelli-led-strip-toolbox/?p22=".concat(n.props.parameter22,"&p23=").concat(n.props.parameter23,"&p24=").concat(n.props.parameter24,"&p30=").concat(n.props.parameter30),n.handleOnCopy)},n.handleSnackbarClose=function(){n.setState({snackbarOpen:!1})},n.handleOnCopy=function(e){n.setState({snackbarOpen:!0,copyStatusText:e?"Copied to Clipboard":"Unable to copy to clipboard. Check browser settings."})},n.state={},n}return Object(s.a)(a,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(U.a,{open:this.props.open,fullWidth:!0,size:"md"},o.a.createElement(W.a,null,"Share Program"),o.a.createElement(B.a,null,o.a.createElement(J.a,{value:"https://nathanfiscus.github.io/inovelli-led-strip-toolbox/?p22=".concat(this.props.parameter22,"&p23=").concat(this.props.parameter23,"&p24=").concat(this.props.parameter24,"&p30=").concat(this.props.parameter30),autoFocus:!0,label:"Program Share Link",helperText:"Copy URL to share your custom program with others.",fullWidth:!0,InputProps:{endAdornment:o.a.createElement(Ie.a,{position:"end"},o.a.createElement(D.a,{title:"Copy to Clipboard"},o.a.createElement(T.a,{edge:"end",onClick:this.handleCopy},o.a.createElement(Ne.a,null,o.a.createElement("svg",{viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"}))))))}})),o.a.createElement(z.a,null,o.a.createElement(Z.a,{onClick:this.props.onClose},"Close"))),o.a.createElement(Ve.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},TransitionComponent:at,open:this.state.snackbarOpen,autoHideDuration:4e3,onClose:this.handleSnackbarClose,message:o.a.createElement("span",{id:"message-id"},this.state.copyStatusText)}))}}]),a}(o.a.Component),ot=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).openContextMenu=function(e){return function(t){n.setState({selectedEffect:e,anchorEl:t.currentTarget})}},n.handleCloseContextMenu=function(){n.setState({selectedEffect:void 0,anchorEl:null})},n.handleEditEffect=function(e){return function(){n.setState({editorOpen:!0,effect:Object.assign({},n.state.effects[e]),selectedEffect:e})}},n.handleAddEffect=function(){n.setState({editorOpen:!0,selectedEffect:void 0,effect:{color:0,effect:0,brightness:99,duration:1}})},n.handleFinishBehaviorChange=function(e){var t=e.target.value;n.setState({finishBehavior:t})},n.onCloseEditor=function(){n.setState({editorOpen:!1})},n.onSave=function(e){n.setState((function(t){var a=JSON.parse(JSON.stringify(t.effects));return void 0!==t.selectedEffect?a[t.selectedEffect]=e:a.push(e),{effects:a,editorOpen:!1,selectedEffect:void 0}}))},n.handleTimeUnitChange=function(e){var t=e.target.value;n.setState({timeUnit:t})},n.handleDeleteEffect=function(){n.setState((function(e){var t=JSON.parse(JSON.stringify(e.effects));return t.splice(n.state.selectedEffect,1),{anchorEl:null,effects:t,selectedEffect:void 0}}))},n.toggleParameterModal=function(){n.setState((function(e){return{parameterModalOpen:!e.parameterModalOpen}}))},n.setIterations=function(e,t){n.setState({iterations:t})},n.handleSaveDialog=function(){n.setState({saveDialogOpen:!0})},n.handleCloseSaveDialog=function(){n.setState({saveDialogOpen:!1})},n.handleSaveAnimation=function(e){var t=JSON.parse(window.localStorage.getItem("animations"));t||(t=[]);var a=new Date;t.push({date:a.getTime(),animation:{iterations:n.state.iterations,finishBehavior:n.state.finishBehavior||0,timeUnit:n.state.timeUnit,effects:n.state.effects},name:e}),window.localStorage.setItem("animations",JSON.stringify(t)),n.setState({saveDialogOpen:!1,savedAnimation:{date:a.getTime(),animation:{iterations:n.state.iterations,finishBehavior:n.state.finishBehavior||0,timeUnit:n.state.timeUnit,effects:n.state.effects},name:e},indexOfSavedAnimation:t.length-1})},n.handleSaveToCurrentProgram=function(){var e=JSON.parse(window.localStorage.getItem("animations"));e||(e=[]);var t=new Date;e[n.state.indexOfSavedAnimation]={date:t.getTime(),animation:{iterations:n.state.iterations,finishBehavior:n.state.finishBehavior||0,timeUnit:n.state.timeUnit,effects:n.state.effects},name:n.state.savedAnimation.name},n.setState({savedAnimation:{date:t.getTime(),animation:{iterations:n.state.iterations,finishBehavior:n.state.finishBehavior||0,timeUnit:n.state.timeUnit,effects:n.state.effects},name:n.state.savedAnimation.name}}),window.localStorage.setItem("animations",JSON.stringify(e))},n.handleOpenDialog=function(){n.setState({openDialogOpen:!0})},n.handleCloseOpenDialog=function(){n.setState({openDialogOpen:!1})},n.handleOpenSavedAnimation=function(e,t){n.setState({openDialogOpen:!1,indexOfSavedAnimation:e,savedAnimation:t,iterations:t.animation.iterations,timeUnit:t.animation.timeUnit,effects:t.animation.effects,finishBehavior:t.animation.finishBehavior})},n.handlePlayAnimationClick=function(){n.props.onPlay(JSON.parse(JSON.stringify({effects:n.state.effects,iterations:n.state.iterations,timeUnit:n.state.timeUnit})))},n.sendProgramToHomeAssistant=function(){n.props.onSendToHomeAssistant([{number:22,value:n.parameter22},{number:23,value:n.parameter23},{number:24,value:n.parameter24},{number:30,value:n.parameter30}])},n.handleStartNew=function(){n.setState({effects:[],selectedEffect:void 0,effect:{},anchorEl:null,iterations:255,timeUnit:1,finishBehavior:0,savedAnimation:{animation:{}},indexOfSavedAnimation:null})},n.handleOpenImportProgramDialog=function(){n.setState({importProgramDialogOpen:!0})},n.handleCloseImportProgramDialog=function(){n.setState({importProgramDialogOpen:!1})},n.handleImportProgram=function(e){var t=e.split(",");console.log(Ce(t[0]));for(var a=Ce(t[0]).map((function(e){return be(e)[1]})),o=Ce(t[0]).map((function(e){return be(e)[0]})),r=Ce(t[1]),i=Ce(t[2]),l=Ce(t[3]),s=a.length-1;s>=0&&0===i[s];s--)a.pop(),o.pop(),r.pop(),i.pop();a.reverse(),o.reverse(),r.reverse(),i.reverse();var c=a.map((function(e,t){return{color:e,effect:o[t],brightness:r[t],duration:i[t]}}));n.setState({importProgramDialogOpen:!1,effects:c,iterations:l[0],finishBehavior:l[1],timeUnit:l[2]})},n.handleOpenShareDialog=function(){n.setState({shareDialogOpen:!0})},n.handleCloseShareDialog=function(){n.setState({shareDialogOpen:!1})},n.state={editorOpen:!1,effects:[],selectedEffect:void 0,effect:{},anchorEl:null,iterations:255,timeUnit:1,finishBehavior:0,saveDialogOpen:!1,openDialogOpen:!1,savedAnimation:{animation:{}},indexOfSavedAnimation:null,importProgramDialogOpen:!1,shareDialogOpen:!1},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){if(window.location.search){var e=tt.a.parse(window.location.search.replace(/\?/,""));console.log(e);for(var t=Ce(e.p22).map((function(e){return be(e)[1]})),a=Ce(e.p22).map((function(e){return be(e)[0]})),n=Ce(e.p23),o=Ce(e.p24),r=Ce(e.p30),i=t.length-1;i>=0&&0===o[i];i--)t.pop(),a.pop(),n.pop(),o.pop();t.reverse(),a.reverse(),n.reverse(),o.reverse();var l=t.map((function(e,t){return{color:e,effect:a[t],brightness:n[t],duration:o[t]}}));this.setState({effects:l,iterations:r[0],finishBehavior:r[1],timeUnit:r[2]})}}},{key:"render",value:function(){var e=this,t=JSON.stringify(this.state.savedAnimation.animation.effects)!==JSON.stringify(this.state.effects)||this.state.timeUnit!==this.state.savedAnimation.animation.timeUnit||this.state.iterations!==this.state.savedAnimation.animation.iterations||this.state.finishBehavior!==this.state.savedAnimation.animation.finishBehavior;return o.a.createElement("div",{className:this.props.classes.root},o.a.createElement(G.a,{style:{width:"100%"}},o.a.createElement($.a,null,o.a.createElement(D.a,{title:"Clear and Start New"},o.a.createElement(T.a,{onClick:this.handleStartNew},o.a.createElement($e.a,null))),o.a.createElement(D.a,{title:"Open Saved Programs"},o.a.createElement(T.a,{onClick:this.handleOpenDialog},o.a.createElement(xe.a,null))),o.a.createElement(D.a,{title:"Save"},o.a.createElement("span",null,o.a.createElement(T.a,{onClick:this.handleSaveToCurrentProgram,disabled:!t||0===this.state.effects.length||!this.state.savedAnimation.name},o.a.createElement(Ke,null)))),o.a.createElement(D.a,{title:"Save As"},o.a.createElement("span",null,o.a.createElement(T.a,{onClick:this.handleSaveDialog,disabled:0===this.state.effects.length},o.a.createElement(Ye,null)))),o.a.createElement(D.a,{title:"Import a Program"},o.a.createElement(T.a,{onClick:this.handleOpenImportProgramDialog},o.a.createElement(De.a,null))),o.a.createElement(D.a,{title:"Share Current Program"},o.a.createElement(T.a,{onClick:this.handleOpenShareDialog},o.a.createElement(Qe.a,null)))),this.state.savedAnimation.name&&o.a.createElement($.a,null,o.a.createElement(j.a,{variant:"body2",color:"primary"},this.state.savedAnimation.name," ",t&&o.a.createElement(j.a,{variant:"caption",color:"textSecondary"},"(Modified)"))),o.a.createElement(q.a,null),o.a.createElement($.a,null,o.a.createElement(P.a,{fullWidth:!0},o.a.createElement(_.a,null,"Time Unit"),o.a.createElement(F.a,{value:this.state.timeUnit,onChange:this.handleTimeUnitChange},Oe.map((function(e,t){return o.a.createElement(R.a,{value:t},e)}))))),o.a.createElement(q.a,null),this.state.effects.map((function(t,a){return o.a.createElement($.a,{key:t.color.toString()+t.duration.toString()+t.brightness.toString()+t.effect.toString()+a,onClick:e.handleEditEffect(a),button:!0},o.a.createElement(Q.a,null,o.a.createElement(se.a,null)),o.a.createElement(X.a,{primary:"".concat(ye[t.effect]," to ").concat(Ae[t.color]),secondary:"For ".concat(0!==e.state.timeUnit?t.duration:100*t.duration," ").concat(0!==e.state.timeUnit?Oe[e.state.timeUnit]:"ms"," at ").concat(Math.round(t.brightness/99*100),"% brightness.")}),o.a.createElement(ee.a,null,o.a.createElement(T.a,{onClick:e.openContextMenu(a)},o.a.createElement(me.a,null)),o.a.createElement(te.a,{open:Boolean(e.state.anchorEl)&&e.state.selectedEffect===a,anchorEl:e.state.anchorEl,onClose:e.handleCloseContextMenu},o.a.createElement(R.a,{onClick:e.handleDeleteEffect},"Delete"))))})),this.state.effects.length<4&&o.a.createElement($.a,{button:!0,onClick:this.handleAddEffect},o.a.createElement(Q.a,null,o.a.createElement(ie.a,null)),o.a.createElement(X.a,{primary:"Add New Effect",secondary:"Add up to 4 steps to your custom effect!"})),this.state.effects.length>0&&o.a.createElement(o.a.Fragment,null,o.a.createElement(q.a,null),o.a.createElement($.a,null,o.a.createElement("div",{style:{width:"100%"}},o.a.createElement(j.a,{variant:"caption",color:"textSecondary",component:"div",gutterBottom:!0},"Iterations"),o.a.createElement("div",null,o.a.createElement(ae.a,{container:!0,spacing:2},o.a.createElement(ae.a,{item:!0},o.a.createElement(ve.a,null)),o.a.createElement(ae.a,{item:!0,xs:!0},o.a.createElement(ne.a,{value:this.state.iterations,valueLabelDisplay:"auto",min:1,max:255,onChange:this.setIterations})),o.a.createElement(ae.a,{item:!0},o.a.createElement(ge.a,null)))))),o.a.createElement($.a,null,o.a.createElement(P.a,{fullWidth:!0,disabled:255===this.state.iterations},o.a.createElement(_.a,null,"Finish Behavior"),o.a.createElement(F.a,{value:this.state.finishBehavior,onChange:this.handleFinishBehaviorChange,disabled:255===this.state.iterations},o.a.createElement(R.a,{value:0},"Off"),o.a.createElement(R.a,{value:1},"Previous Color"),o.a.createElement(R.a,{value:2},"Last Color In Sequence")),255===this.state.iterations&&o.a.createElement(oe.a,null,"No Finish Behavior for Infinite Iterations"))),o.a.createElement(q.a,null),o.a.createElement($.a,{button:!0,onClick:this.toggleParameterModal},o.a.createElement(Q.a,null,o.a.createElement(Me.a,null)),o.a.createElement(X.a,{primary:"Show Parameter Values"})),this.props.isHomeAssistantConfigured&&o.a.createElement($.a,{button:!0,onClick:this.sendProgramToHomeAssistant},o.a.createElement(Q.a,null,o.a.createElement(Ze,null)),o.a.createElement(X.a,{primary:"Send to Home Assistant Device"})))),o.a.createElement(ke,{open:this.state.editorOpen,onClose:this.onCloseEditor,onSave:this.onSave,effect:this.state.effect}),o.a.createElement(Fe,{parameter22:this.parameter22,parameter23:this.parameter23,parameter24:this.parameter24,parameter30:this.parameter30,open:this.state.parameterModalOpen,onClose:this.toggleParameterModal}),o.a.createElement(Re,{open:this.state.saveDialogOpen,onClose:this.handleCloseSaveDialog,onSave:this.handleSaveAnimation}),o.a.createElement(ze,{open:this.state.openDialogOpen,onClose:this.handleCloseOpenDialog,onOpen:this.handleOpenSavedAnimation}),o.a.createElement(Xe,{open:this.state.importProgramDialogOpen,onClose:this.handleCloseImportProgramDialog,onImport:this.handleImportProgram}),o.a.createElement(nt,{open:this.state.shareDialogOpen,onClose:this.handleCloseShareDialog,parameter22:this.parameter22,parameter23:this.parameter23,parameter24:this.parameter24,parameter30:this.parameter30}))}},{key:"parameter22",get:function(){return Se(Array.from(this.state.effects).reverse().map((function(e){return e.effect+8*e.color}))).toString(Number(this.props.format||10))}},{key:"parameter23",get:function(){return Se(Array.from(this.state.effects).reverse().map((function(e){return e.brightness}))).toString(Number(this.props.format||10))}},{key:"parameter24",get:function(){return Se(Array.from(this.state.effects).reverse().map((function(e){return e.duration}))).toString(Number(this.props.format||10))}},{key:"parameter30",get:function(){return Se([this.state.iterations,this.state.finishBehavior,this.state.timeUnit]).toString(Number(this.props.format||10))}}]),a}(o.a.Component);ot.defaultProps={timeUnit:1,finishBehavior:0};var rt=Object(v.a)((function(e){return{root:{display:"flex",flexDirection:"row-reverse"}}}))(ot),it=a(90),lt=a(76),st=a(89),ct=a(111),mt=a.n(ct),ht=a(110),ut=a.n(ht),pt=a(112),dt=a.n(pt),ft=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return o.a.createElement(U.a,{open:this.props.open,onClose:this.props.onClose,fullWidth:!0,maxWidth:"md"},o.a.createElement(W.a,null,"About"),o.a.createElement(B.a,null,o.a.createElement(j.a,{variant:"h4",gutterBottom:!0},"Version 1.0 (Jan 5, 2021)"),o.a.createElement(j.a,{variant:"h6"},"About the Tool"),o.a.createElement(j.a,{variant:"caption",gutterBottom:!0},"This is a simple application to assist in calculating the configuration values to send to your Z-Wave Inovelli LED strip controller.",o.a.createElement("br",null),o.a.createElement("br",null)),o.a.createElement(j.a,{variant:"h6"},"Compatible Controllers"),o.a.createElement(G.a,{dense:!0},o.a.createElement($.a,null,o.a.createElement(X.a,{primary:"LZW45",secondary:"RGBTW Smart LED Strip & Controller Kits"}))),o.a.createElement(j.a,{variant:"h6"},"Credits"),o.a.createElement(j.a,null,"Written By @nathanfiscus"),o.a.createElement(T.a,{component:"a",href:"https://www.github.com/nathanfiscus/inovelli-notification-calc"},o.a.createElement(ut.a,null)),o.a.createElement(T.a,{component:"a",href:"https://www.twitter.com/nathanfiscus"},o.a.createElement(mt.a,null)),o.a.createElement(T.a,{component:"a",href:"https://www.linkedin.com/in/nathanfiscus"},o.a.createElement(dt.a,null))),o.a.createElement(z.a,null,o.a.createElement(Z.a,{onClick:this.props.onClose},"Close")))}}]),a}(o.a.Component),gt=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleChangeTab=function(e,t){n.setState({tab:t})},n.handleParameter10Changes=function(e,t){n.setState({parameter10:Object(g.a)(Object(g.a)({},n.state.parameter10),{},Object(f.a)({},e,t))})},n.handleCustomStripEffectChange=function(e){n.setState({customStripEffects:e})},n.handleTimeUnitChange=function(e){n.setState({timeUnit:e})},n.handleFinishBehaviorChange=function(e){n.setState({finishBehavior:e})},n.handleOnPlay=function(e){n.setState({lightShow:e})},n.handleOpenOptions=function(){n.setState({optionsOpen:!0})},n.handleOptionsClosed=function(){n.setState({optionsOpen:!1}),n.state.homeAssistant&&n.state.homeAssistant.close(),n.state.HA_URL&&n.state.HA_TOKEN&&Object(d.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(it.a)(n.state.HA_URL,n.state.HA_TOKEN),e.next=3,Object(lt.a)({auth:t});case 3:a=e.sent,n.setState({homeAssistant:a},(function(){console.info("Home Assistant Connection Saved to State....")}));case 5:case"end":return e.stop()}}),e)})))()},n.handleHomeAssistantURLChange=function(e){n.setState({HA_URL:e}),window.localStorage.setItem("HA_URL",e)},n.handleHomeAssistantTokenChange=function(e){n.setState({HA_TOKEN:e}),window.localStorage.setItem("HA_TOKEN",e)},n.handleHomeAssistantNodeChange=function(e){n.setState({HA_NODE:e}),window.localStorage.setItem("HA_NODE",e)},n.handleHomeAssistantServiceChange=function(e){n.setState({HA_SERVICE:e}),window.localStorage.setItem("HA_SERVICE",e)},n.handleChangeValueFormat=function(e){n.setState({valueFormat:e}),window.localStorage.setItem("valueFormat",e)},n.handleChangeThemeValue=function(e){n.setState({theme:e}),window.localStorage.setItem("theme",e)},n.sendProgamThroughHomeAssistant=function(e){var t=n.state.HA_SERVICE.split(".");console.log(t);var a=t[0],o=t[1];console.log(t[0],t[1]),Promise.all([Object(st.a)(n.state.homeAssistant,a,o,{node_id:parseInt(n.state.HA_NODE),parameter:30,value:0})].concat(Object(h.a)(e.map(function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(st.a)(n.state.homeAssistant,a,o,{node_id:parseInt(n.state.HA_NODE),parameter:parseInt(t.number),value:parseInt(t.value)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())))).then((function(){console.info("Successfully sent to Home Assistant")})).catch((function(e){console.error(e)}))},n.handleCloseAboutDialog=function(){n.setState({aboutDialogOpen:!1})},n.handleOpenAboutDialog=function(){n.setState({aboutDialogOpen:!0})},n.state={customStripEffects:[],finishBehavior:0,HA_URL:window.localStorage.getItem("HA_URL"),HA_TOKEN:window.localStorage.getItem("HA_TOKEN"),HA_NODE:window.localStorage.getItem("HA_NODE"),HA_SERVICE:window.localStorage.getItem("HA_SERVICE"),valueFormat:window.localStorage.getItem("valueFormat")||10,aboutDialogOpen:!1},n.state.HA_URL&&n.state.HA_TOKEN&&Object(d.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(it.a)(n.state.HA_URL,n.state.HA_TOKEN),e.next=3,Object(lt.a)({auth:t});case 3:a=e.sent,n.setState({homeAssistant:a},(function(){console.info("Home Assistant Connection Saved to State....")}));case 5:case"end":return e.stop()}}),e)})))(),n}return Object(s.a)(a,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(E.a,null),o.a.createElement(V,{onOpenOptions:this.handleOpenOptions,onOpenAbout:this.handleOpenAboutDialog}),o.a.createElement(Y,{open:this.state.optionsOpen,homeAssistantURL:this.state.HA_URL,homeAssistantToken:this.state.HA_TOKEN,homeAssistantNode:this.state.HA_NODE,homeAssistantService:this.state.HA_SERVICE,theme:this.props.theme,format:this.state.valueFormat,setHomeAssistantURL:this.handleHomeAssistantURLChange,setHomeAssistantToken:this.handleHomeAssistantTokenChange,setHomeAssistantNode:this.handleHomeAssistantNodeChange,setHomeAssistantService:this.handleHomeAssistantServiceChange,setFormat:this.handleChangeValueFormat,setTheme:this.props.setTheme,onClose:this.handleOptionsClosed}),o.a.createElement("div",{className:this.props.classes.root},o.a.createElement("div",{className:this.props.classes.tabWrapper}),o.a.createElement("div",{className:this.props.classes.areaWrapper},o.a.createElement(rt,{onPlay:this.handleOnPlay,isHomeAssistantConfigured:void 0!==this.state.homeAssistant,onSendToHomeAssistant:this.sendProgamThroughHomeAssistant,valueFormat:this.state.valueFormat,format:this.state.valueFormat}),o.a.createElement(ft,{open:this.state.aboutDialogOpen,onClose:this.handleCloseAboutDialog}))))}}]),a}(o.a.Component),Et=Object(v.a)((function(e){return{root:{display:"flex",alignItems:"center",flexDirection:"column","&>:first-child":{width:"100%"},"&>:last-child":{flex:"1 1 100%",display:"flex",width:"100%",alignItems:"stretch",justifyContent:"center"}},tabWrapper:{width:"100%"},areaWrapper:{display:"flex",alignItems:"stretch","&>:first-child":{flex:"1 1 100%",display:"flex",justifyContent:"center",maxWidth:"800px"},"&>:last-child":{}}}}))(gt),vt=a(113),Ct=a(206),bt=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={themeType:window.localStorage.themeType||"light",formatType:window.localStorage.formatType||"10",calculationMethod:window.localStorage.calculationMethod||"raw",sceneMethod:window.localStorage.sceneMethod||"ha",setSceneMethod:function(e){n.setState({sceneMethod:e}),window.localStorage.setItem("sceneMethod",e)},setFormat:function(e){n.setState({formatType:e}),window.localStorage.setItem("formatType",e)},setCalculationMethod:function(e){n.setState({calculationMethod:e}),window.localStorage.setItem("calculationMethod",e)},setTheme:function(e){"light"!==e&&"dark"!==e||(n.setState({themeType:e}),window.localStorage.setItem("themeType",e))}},n}return Object(s.a)(a,[{key:"render",value:function(){var e=Object(vt.a)({palette:{type:this.state.themeType,primary:{main:"#c21414"}}});return o.a.createElement(Ct.a,{theme:e},this.props.children(this.state))}}]),a}(o.a.Component),St=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return o.a.createElement(bt,null,(function(e){var t=e.setTheme,a=e.themeType;e.formatType,e.setFormat,e.setCalculationMethod,e.calculationMethod,e.setSceneMethod,e.sceneMethod;return o.a.createElement(Et,{setTheme:t,theme:a})}))}}]),a}(o.a.Component),Ot=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function At(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var yt={onUpdate:function(e){e.unregister().then((function(){window.location.reload()}))},onSuccess:function(e){console.info("service worker on success state"),console.log(e)}};i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(St,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/inovelli-led-strip-toolbox",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/inovelli-led-strip-toolbox","/service-worker.js");Ot?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):At(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):At(t,e)}))}}(yt)}},[[146,1,2]]]);
//# sourceMappingURL=main.d726f87c.chunk.js.map